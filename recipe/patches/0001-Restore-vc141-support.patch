From a84e10df3b454fda6af77b53d0eb9336cabb34e5 Mon Sep 17 00:00:00 2001
From: Isuru Fernando <isuruf@gmail.com>
Date: Sun, 2 Jan 2022 15:12:01 -0800
Subject: [PATCH] Restore vc141 support

---
 numpy/core/src/npymath/npy_math_internal.h.src | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/numpy/core/src/npymath/npy_math_internal.h.src b/numpy/core/src/npymath/npy_math_internal.h.src
index 5b418342f..bc9c19c56 100644
--- a/numpy/core/src/npymath/npy_math_internal.h.src
+++ b/numpy/core/src/npymath/npy_math_internal.h.src
@@ -54,6 +54,9 @@
  * ====================================================
  */
 #include "npy_math_private.h"
+#ifdef _MSC_VER
+#  include <intrin.h>
+#endif
 
 /* Magic binary numbers used by bit_count
  * For type T, the magic numbers are computed as follows:
-- 
2.30.2

